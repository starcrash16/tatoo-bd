<div class="stats-container">

  <div class="section-header">
    <h1>Resumen Operativo</h1>
    <span class="subtitle">Visión general del estudio</span>
  </div>

  <div class="kpi-grid">
    <mat-card class="kpi-card dashboard-card" *ngFor="let kpi of kpis">
      <div class="kpi-content">
        <div class="kpi-icon-container" [style.background-color]="kpi.color + '20'">
          <mat-icon [style.color]="kpi.color">{{kpi.icono}}</mat-icon>
        </div>
        <div class="kpi-data">
          <div class="kpi-value">{{kpi.valor}}</div>
          <div class="kpi-title">{{kpi.titulo}}</div>
        </div>
      </div>
    </mat-card>
  </div>

  <div class="charts-grid">

    <mat-card class="dashboard-card chart-card">
      <div class="card-header-simple">
        <h3>Ingresos Financieros</h3>
        <span class="text-muted">Últimos 6 meses</span>
      </div>
      <div class="chart-container">
        <canvas baseChart
          [data]="barChartData"
          [options]="barChartOptions"
          [type]="'bar'">
        </canvas>
      </div>
    </mat-card>

    <mat-card class="dashboard-card chart-card">
      <div class="card-header-simple">
        <h3>Estado de Citas</h3>
        <span class="text-muted">Distribución actual</span>
      </div>
      <div class="chart-container">
        <canvas baseChart
          [data]="doughnutChartData"
          [options]="doughnutChartOptions"
          [type]="'doughnut'">
        </canvas>
      </div>
    </mat-card>

  </div>

  <div class="recent-activity">
    <mat-card class="dashboard-card">
      <div class="card-header-simple mb-2">
        <h3>Próximas Citas Urgentes</h3>
      </div>
      <mat-card-content class="p-0">
        <mat-list>
          <mat-list-item class="activity-item">
            <mat-icon matListItemIcon class="activity-icon">event</mat-icon>
            <div matListItemTitle class="fw-bold">Cliente: Juan Pérez</div>
            <div matListItemLine>Hoy - 14:00 PM • Tatuaje Brazo</div>
          </mat-list-item>
          <mat-divider></mat-divider>
          <mat-list-item class="activity-item">
            <mat-icon matListItemIcon class="activity-icon warning">notifications</mat-icon>
            <div matListItemTitle class="fw-bold">Inventario Bajo: Agujas 5RL</div>
            <div matListItemLine class="text-danger">Quedan 2 unidades - Reordenar pronto</div>
          </mat-list-item>
        </mat-list>
      </mat-card-content>
    </mat-card>
  </div>

</div>